[tox]
env_list =
    py38
    py39
    py310
    py311
    py312
    py313
    py314
minversion = 4.11.4

[testenv]
description = run the tests with pytest
package = wheel
wheel_build_env = .pkg
deps =
    pytest>=6.0.0
    pytest-cov>=4.0.0
commands =
    pytest {tty:--color=yes} --cov=py_debug --cov-report=term-missing {posargs}

[testenv:coverage]
description = generate coverage report
skip_install = true
deps =
    coverage>=7.0.0
    pytest>=6.0.0
    pytest-cov>=4.0.0
commands =
    pytest --cov=py_debug --cov-report=html --cov-report=term-missing
    coverage report

[flake8]
extend-ignore = E203
exclude =
    .git,
    __pycache__,
    build,
    dist,
    tests
per-file-ignores =
    # imported but unused
    __init__.py: F401
max-complexity = 10